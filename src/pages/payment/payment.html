<ion-content>

    <div *ngIf="initialized === false" class="post-subscription p-t-3">
        <h1 class="center color--primary m-b-3">{{text.loading}}</h1>

        <svg class="static-header__icon" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 100 100" x="0px" y="0px">
            <title>50Icon_5px_grid2</title>
            <path d="M79.46,54.51a1.54,1.54,0,0,0-1.49-1c-1.17.06-1.63,1.25-2,2.56-1.58,5.16-7.55,9.82-9.88,11.48-.88-2.34-1.87-4.49-2.78-6.34a1,1,0,0,0-.19-.24,100.19,100.19,0,0,0-3.51-13.38c.15-.17.3-.34.42-.5l8.8-11.64a10.75,10.75,0,0,0,1.89-5.66L70.64,9.5a2.92,2.92,0,0,0-1.4-2.69,2.92,2.92,0,0,0-3,.29l-8.89,5.74a6,6,0,0,1-3.8.68,40.3,40.3,0,0,0-7.09-.92,40.3,40.3,0,0,0-7.09.92,6.08,6.08,0,0,1-3.81-.68l-9-5.76a2.92,2.92,0,0,0-3-.28,2.92,2.92,0,0,0-1.38,2.7l0,20.31a10.35,10.35,0,0,0,2,5.64L33.47,47a98.47,98.47,0,0,0-3.75,14,1,1,0,0,0-.16.21c-1.92,3.9-4.22,9.1-5,14.68a64.74,64.74,0,0,0-.06,7.65c-3,.82-4.37,3-4.08,4.84s1.92,3.37,4.94,3.37a9.59,9.59,0,0,0,1.46-.12h0a7.63,7.63,0,0,0,4.46,1.51l1.11.12a23,23,0,0,0,2.68.21,6.43,6.43,0,0,0,4.62-1.59c1.73-1.63,1.92-3.84,1.84-5.86a18.13,18.13,0,0,0,4.72,1h.25a18.12,18.12,0,0,0,4.72-1c-.08,2,.11,4.23,1.84,5.86a6.43,6.43,0,0,0,4.62,1.59,23,23,0,0,0,2.68-.21l1.11-.12A7.63,7.63,0,0,0,66,91.65h0a9.6,9.6,0,0,0,1.46.12c3,0,4.67-1.64,4.94-3.37s-1-4-4.08-4.84a41.15,41.15,0,0,0,.08-4.46,1.35,1.35,0,0,0,.27-.17C77.78,70.45,80.3,56.5,79.46,54.51Zm-4,8.2a35,35,0,0,1-7.23,12.74A36.23,36.23,0,0,0,67,70.34,39.53,39.53,0,0,0,75.41,62.71ZM40,51.6l1.63.24v3a26.42,26.42,0,0,1-7-2.11,1.16,1.16,0,0,0-.42-.1c.4-1.38.77-2.57,1.08-3.5A9.36,9.36,0,0,0,40,51.6Zm4,.59,1.53.23a10.55,10.55,0,0,0,1.52.1,16.3,16.3,0,0,0,1.88-.12V55a28.28,28.28,0,0,1-4.94.1Zm7.28-.27.09,0,3.86-1.31a10.34,10.34,0,0,0,2.48-1.32c.28.86.62,1.93,1,3.14a1.13,1.13,0,0,0-.34.07,33.14,33.14,0,0,1-7.07,2.17ZM25,29.81l0-20.31s0-.07,0-.1l.09.05,9,5.76A8.71,8.71,0,0,0,40,16.26a38.24,38.24,0,0,1,6.49-.86,38.21,38.21,0,0,1,6.49.86,8.69,8.69,0,0,0,5.93-1.06l8.88-5.74.09-.05s0,.07,0,.1l.05,20.31a7.9,7.9,0,0,1-1.32,4l-8.8,11.64a8.85,8.85,0,0,1-3.48,2.51l-3.86,1.31a12,12,0,0,1-4.53.41l-5.5-.81a6.6,6.6,0,0,1-3.44-2L26.37,33.7A7.5,7.5,0,0,1,25,29.81Zm.89,59.84c-2,.14-3.23-.63-3.38-1.56s.93-2.28,3.31-2.65h0a1,1,0,0,0,.87-1.2,1,1,0,0,0-.08-.27,75.87,75.87,0,0,1,0-7.76,37,37,0,0,1,2.11-7.93A32.93,32.93,0,0,0,29.71,80c.55,1.73.64,3.49.36,3.79C28.95,84.31,25.69,87,25.88,89.65ZM61.3,90.84,60.13,91c-2.11.25-4.1.48-5.43-.77s-1.17-3.32-1-5.34l0-.45a1.17,1.17,0,0,0-1.61-1.16,20.24,20.24,0,0,1-5.68,1.47,20.3,20.3,0,0,1-5.68-1.47,1.17,1.17,0,0,0-1.61,1.16l0,.44c.14,2,.29,4.1-1,5.34s-3.32,1-5.43.77l-1.17-.13c-2.32-.21-3.24-.81-3.32-1.3C28,88.42,30.15,86.33,31,85.91c2.44-1.12,1.29-5.35.89-6.61-2.18-7.15-.26-17.45,1.61-24.51l0,0A29.16,29.16,0,0,0,45.86,57.5a33.49,33.49,0,0,0,13.35-2.89l0,0c1.9,7.07,3.87,17.45,1.66,24.69-.41,1.27-1.56,5.5.88,6.62.9.41,3,2.5,2.84,3.63C64.54,90,63.62,90.63,61.3,90.84Zm9-2.75c-.14.93-1.35,1.7-3.38,1.56.2-2.65-3.06-5.34-4.17-5.84-.3-.31-.21-2.07.35-3.82a32.9,32.9,0,0,0,.92-11.77c.15.4.3.81.44,1.23a1.36,1.36,0,0,0,.19.71s.06.05.08.08a34.46,34.46,0,0,1,1.42,6,75.85,75.85,0,0,1,0,7.76,1,1,0,0,0-.08.27,1,1,0,0,0,.87,1.2h0C69.4,85.82,70.49,87.06,70.33,88.09Z"></path>
            <polygon points="26.96 24.03 33.91 20.15 26.96 13.29 26.96 24.03"></polygon>
            <polygon points="65.87 13.29 58.93 20.15 65.87 24.03 65.87 13.29"></polygon>
            <circle cx="38.6" cy="28.38" r="1.85"></circle>
            <circle cx="54.23" cy="28.38" r="1.85"></circle>
            <path d="M42.94,40.26c-.81.27-1.9-.16-3-1.2a1.17,1.17,0,0,0-1.62,1.68,6.1,6.1,0,0,0,4.11,1.93,3.88,3.88,0,0,0,1.23-.2,4.85,4.85,0,0,0,2.74-2.65,4.85,4.85,0,0,0,2.74,2.65,3.88,3.88,0,0,0,1.23.2,6.1,6.1,0,0,0,4.11-1.93,1.17,1.17,0,0,0-1.62-1.68c-1.08,1-2.16,1.48-3,1.2S48.43,39,48,37.44a7.41,7.41,0,0,0,1.05-.32S52.7,32,47.4,32.25h0l-.93,0-.93,0h0c-5.3-.21-1.66,4.87-1.66,4.87a7.4,7.4,0,0,0,1,.32C44.41,39,43.74,40,42.94,40.26Z"></path>
            <path d="M55.29,74.87a1,1,0,0,0-1.24.81,9.43,9.43,0,0,1-.32,1.19,6.12,6.12,0,0,1-.52-.72,1,1,0,0,0-1.05-.48,1.09,1.09,0,0,0-.88.79,1.91,1.91,0,0,1-.12.28c-.2-.17-.4-.38-.61-.6A7.53,7.53,0,0,0,49.19,75a1.05,1.05,0,0,0-1.35.19,2.41,2.41,0,0,0-.41.64c-.22-.17-.43-.34-.6-.51a1.05,1.05,0,0,0-1.69.37,10,10,0,0,0-.54,1.91c-1.76-.22-3.48-2.19-4.9-3.81-.42-.49-.82-.94-1.19-1.32A1.05,1.05,0,0,0,37,73.91c.35.35.72.78,1.11,1.23,1.86,2.13,4.41,5,7.58,4.49a1,1,0,0,0,.87-.94c0-.26.06-.53.11-.8a3.2,3.2,0,0,1,.64.67,1.05,1.05,0,0,0,2-.48c0-.08,0-.15,0-.23a4.28,4.28,0,0,0,2.26,1.38,1.08,1.08,0,0,0,.81-.18,1.05,1.05,0,0,0,.23-.23,2.51,2.51,0,0,1,.22.39,1,1,0,0,0,.73.61l.23,0a1.05,1.05,0,0,0,.69-.26,6.42,6.42,0,0,0,1.65-3.49A1.05,1.05,0,0,0,55.29,74.87Z"></path>
        </svg>

        <div class="spinner-container center">
            <ion-spinner></ion-spinner>
        </div>
    </div>

    <div *ngIf="saving === true" class="post-subscription">
        <h1>{{postPaymentHeading}}</h1>
        <h2>{{postPaymentSubHeading}}</h2>
    </div>

    <div *ngIf="initialized === true && saving == false" class="pre-subscription">
        <div class="plan-card">

            <h1 class="plan-card__title">{{text.title}}</h1>
            <h2 class="plan-card__subheading">{{text.desc}}</h2>

            <div class="plan-card__ratings">
                <h3 class="ratings__title">
                    {{config.PAYMENT_TAGLINE}}
                </h3>

                <rating-stars starCount="5"></rating-stars>
                <span class="plan-card__rating-number">4.8</span>
            </div>

            <ul class="plan-card__list">
                <li *ngFor="let bullet of text.bullets">
                    <svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Aura-Type-Payment-Screen" transform="translate(-45.000000, -293.000000)">
                                <g id="Group-2" transform="translate(45.000000, 293.000000)">
                                    <circle id="Oval-12" fill="#00C8D6" cx="13" cy="13" r="13"></circle>
                                    <g id="tick" transform="translate(6.000000, 3.000000)"></g>
                                    <path d="M19.8422945,8.15973433 C19.6320479,7.94675522 19.2910705,7.94675522 19.0807966,8.15973433 L10.3523768,16.9993226 L6.91922392,13.5224269 C6.70897732,13.3094755 6.36799992,13.3094755 6.15772597,13.5224269 C5.94742468,13.735406 5.94742468,14.0806698 6.15772597,14.2936212 L9.97166888,18.1561278 C10.1818335,18.3689685 10.5228929,18.3690516 10.7331395,18.1561278 L19.8422945,8.9309286 C20.0525685,8.71794949 20.0525685,8.37268574 19.8422945,8.15973433"
                                        id="Fill-1" fill="#FFFFFF"></path>
                                </g>
                            </g>
                        </g>
                    </svg>
                    <span>{{bullet}}</span>
                </li>
            </ul>

            <button *ngIf="parseConfig.enablePayments" (click)="buyProduct()" class="plan-card__button plan-card__button--outline" ion-button
                full round [ngClass]="{'m-t-4': !showPaymentSummary}">
                {{paymentButtonText}}

                <svg class="chevron-right" width="11px" height="18px" viewBox="0 0 11 18" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.810688406">
                        <g id="Aura-Type-Payment-Screen" transform="translate(-287.000000, -458.000000)" fill="#DFDFDF">
                            <polygon id="Arrow-Right" points="288.833333 476 298 467 288.833333 458 287 459.8 294.333333 467 287 474.2"></polygon>
                        </g>
                    </g>
                </svg>
            </button>

            <div class="plan-card__cancel">
                <div *ngIf="showPaymentSummary">
                    <p>Cancel anytime</p>
                    <p>3 day FREE trial, then only {{product?.price}}/ wk
                </div>
            </div>
        </div>


        <div *ngIf="termsAtBottom !== undefined && termsAtBottom !== true" class="tos-card" id="terms">
            <p>SUBSCRIPTION CONDITIONS</p>

            <p>
                The total amount for the subscription period of one week or {{product?.price}} will be charged to your iTunes account at
                the end of your trial. Unless you turn off auto-renewal at least 24 hours before the end of the subscription
                period, the subscription will renew automatically for the same price, and your iTunes account will be charged
                accordingly. You can manage the subscription and turn off automatic renewal in the accoutn settings of your
                Apple ID at any time. Any unused portion of a free trial period will be forfeited when subscribing to a non-trial
                plan
            </p>

            <h3 class="tos-card__title">
                <a (click)="showModal('terms')">Terms of Service</a> |
                <a (click)="showModal('privacy')">Privacy Policy</a>
            </h3>
        </div>


        <div class="user-reviews">
            <h2>{{config.REVIEW_TITLE}}</h2>

            <div class="overview">
                <div class="overview__rating">
                    {{config.REVIEW_OVERALL_RATING}}
                </div>

                <div class="visual">
                    <div class="visual__stars">
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star-half-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 536 512"
                            class="svg-inline--fa fa-star-half-alt fa-w-17 fa-3x">
                            <path fill="currentColor" d="M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"
                                class=""></path>
                        </svg>
                    </div>

                    <h4 class="visual__text">
                        {{config.REVIEW_OVERALL_DESC}}
                    </h4>
                </div>
            </div>

            <div class="reviews">
                <div class="review" *ngFor="let review of reviews">
                    <span class="review__date">{{review.date}}</span>
                    <h5 class="review__name">{{review.reviewer}}</h5>

                    <div class="review__stars">
                        <span class="review__label">{{review.rating}}</span>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                        <svg aria-hidden="true" data-prefix="fas" data-icon="star" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"
                            class="svg-inline--fa fa-star fa-w-18 fa-3x">
                            <path fill="currentColor" d="M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"
                                class=""></path>
                        </svg>
                    </div>

                    <p class="review__text">
                        {{review.body}}
                    </p>
                </div>
            </div>

        </div>

        <div class="faq-card">
            <h3 class="faq-card__title">
                {{config.FAQ_TITLE}}
            </h3>

            <div class="faq-card__item" *ngFor="let faq of faqData">
                <strong>
                    {{faq.question}}    
                </strong>

                <p>
                    {{faq.answer}}
                </p>
            </div>

        </div>

        <div class="cta-card">
            <h3 class="cta-card__title">
                {{config.PAYMENT_TAGLINE}}
            </h3>

            <p>
                {{config.PAYMENT_BYLINE}}
            </p>

            <div class="card-rating">
                <rating-stars starCount="5"></rating-stars>
                <strong>{{config.REVIEW_OVERALL_RATING}}</strong>
            </div>

            <button (click)="buyProduct()" class="plan-card__button" ion-button full round>
                {{paymentButtonText}}

                <svg class="chevron-right" width="11px" height="18px" viewBox="0 0 11 18" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink">
                    <!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch -->
                    <desc>Created with Sketch.</desc>
                    <defs></defs>
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.810688406">
                        <g id="Aura-Type-Payment-Screen" transform="translate(-287.000000, -458.000000)" fill="#DFDFDF">
                            <polygon id="Arrow-Right" points="288.833333 476 298 467 288.833333 458 287 459.8 294.333333 467 287 474.2"></polygon>
                        </g>
                    </g>
                </svg>
            </button>
        </div>

        <div *ngIf="termsAtBottom !== undefined && termsAtBottom === true" class="tos-card" id="terms">
            <p>{{config.TERMS_TITLE}}</p>

            <p>
                {{config.TERMS_BODY}}
            </p>

            <h3 class="tos-card__title">
                <a (click)="showModal('terms')">Terms of Service</a> |
                <a (click)="showModal('privacy')">Privacy Policy</a>
            </h3>
        </div>

        <div class="tos-card" id="terms">
            <p class="tos-card__restore">
                <a href="">Restore Purchases</a>
            </p>

            <!-- <p (click)="signOut()" class="tos-card__restore">
                <a href="">Sign Out</a>
            </p> -->

            <!-- <p (click)="nextPage()" class="tos-card__restore">
                TEST
            </p> -->
        </div>
    </div>

</ion-content>
